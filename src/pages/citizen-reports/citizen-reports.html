<!--
  Generated template for the CitizenReportsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="navbar">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Citizen Reports</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list #virtualScroll [virtualScroll]="citizenPosts" approxItemHeight="200px" approxItemWidth="100%">
    <div *virtualItem="let post" style="width: 100%">
      <ion-card class="virtual-div">
        <!-- <ion-item-sliding #item> -->
          <ion-grid>
            <ion-row>
              <ion-col col-lg-3 col-md-3 col-sm-3 col-xs-3>
                <ion-item *ngIf="post.rta">
                  <ion-icon color="danger" ios="ios-megaphone" md="md-megaphone"></ion-icon>&nbsp;RTA
                </ion-item>
                <ion-item *ngIf="!post.rta">
                  <ion-icon ios="ios-megaphone" md="md-megaphone"></ion-icon>&nbsp;RTA
                </ion-item>
              </ion-col>
              <ion-col col-lg-3 col-md-3 col-sm-3 col-xs-3>
                <ion-item *ngIf="post.pnp">
                  <ion-icon color="danger" ios="ios-hand" md="md-hand"></ion-icon>&nbsp;PNP
                </ion-item>
                <ion-item *ngIf="!post.pnp">
                  <ion-icon ios="ios-hand" md="md-hand"></ion-icon>&nbsp;PNP
                </ion-item>
              </ion-col>
              <ion-col col-lg-3 col-md-3 col-sm-3 col-xs-3>
                <ion-item *ngIf="post.ndrmmc">
                  <ion-icon color="danger" ios="ios-rainy" md="md-rainy"></ion-icon>&nbsp;CDRMMD
                </ion-item>
                <ion-item *ngIf="!post.ndrmmc">
                  <ion-icon ios="ios-rainy" md="md-rainy"></ion-icon>&nbsp;CDRMMD
                </ion-item>
              </ion-col>
              <ion-col col-lg-3 col-md-3 col-sm-3 col-xs-3>
                <ion-item *ngIf="post.bfp">
                  <ion-icon color="danger" ios="ios-flame" md="md-flame"></ion-icon>&nbsp;BFP
                </ion-item>
                <ion-item *ngIf="!post.bfp">
                  <ion-icon ios="ios-flame" md="md-flame"></ion-icon>&nbsp;BFP
                </ion-item>
              </ion-col>
            </ion-row>
          </ion-grid>
          <ion-item>
            <ion-avatar class="virtual-div">
              <img src="../../assets/custom/government.png" *ngIf="post.gov_official">
              <img src="../../assets/custom/citizen.png" *ngIf="!post.gov_official">
            </ion-avatar>
            <div class="virtual-div">
              <h2 class="div-date">{{ post.name }}</h2>
              <p class="div-date">{{ post.phonenumber }}</p>
              <p class="div-date">{{ post.date_posted }}</p>
            </div>
            <ion-card-content>
              <ion-card-title>
                {{post.title}}
              </ion-card-title>
              <p>
                {{post.content}}
              </p>
            </ion-card-content>
          </ion-item>
          <!-- <ion-item-options side="left">
            <button ion-button (click)="favorite(item)">Edit</button>
            <button ion-button color="danger" (click)="share(item)">Delete</button>
          </ion-item-options>
  
          <ion-item-options side="right">
            <button ion-button (click)="unread(item)">Read Post</button>
          </ion-item-options> -->
        <!-- </ion-item-sliding> -->
        <ion-row class="cardfooter">
          <ion-col col-lg-6 col-md-6 col-sm-6 col-xs-6>
            <button class="footer-button" ion-button full color="dark" (click)="validateReport(post.postId,post)">Validate Report</button>
          </ion-col>
          <!-- <ion-col col-lg-4 col-md-4 col-sm-4 col-xs-4>
            <button class="footer-button" ion-button full color="dark">Drop</button>
          </ion-col> -->
          <ion-col col-lg-6 col-md-6 col-sm-6 col-xs-6>
            <button class="footer-button" ion-button full color="dark" (click)="readpost(post.name,post.dateposted,post.imagepost_url,post.title,post.content,post.lattitude,post.longitude)">Read Report</button>
          </ion-col>
        </ion-row>
      </ion-card>
    </div>
  </ion-list>
  <ng-template *ngIf="arrlength < 1" class="login-content">
    <div padding-horizontal text-center class="animated fadeInDown">
      <img margin width="200" height="200" src="../../assets/imgs/blank.png">
      <h2 ion-text class="text-primary">Still Empty. No Report Submitted and Verified</h2>
    </div>
  </ng-template>
</ion-content>
